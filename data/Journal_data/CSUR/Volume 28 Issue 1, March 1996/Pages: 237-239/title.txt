Software support for heterogeneous computing
From transience to persistence in object-oriented programming: architectures and patterns
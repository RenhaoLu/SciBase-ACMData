Rules and strategies for transforming functional and logic programs
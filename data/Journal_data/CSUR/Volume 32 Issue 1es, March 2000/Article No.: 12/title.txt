Framework extraction with domain analysis
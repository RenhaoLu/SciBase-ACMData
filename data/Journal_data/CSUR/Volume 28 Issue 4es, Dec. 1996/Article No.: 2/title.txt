Integrating theory and practice in planning
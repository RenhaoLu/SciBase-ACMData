Program transformation in calculational form
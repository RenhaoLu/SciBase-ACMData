Spaces, Trees, and Colors: The algorithmic landscape of document retrieval on sequences